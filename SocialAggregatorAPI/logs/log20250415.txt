2025-04-15 14:39:44.771 +02:00 [INF] User profile is available. Using '/Users/sandortoth/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 14:39:45.594 +02:00 [INF] NewsSummarizationService started.
2025-04-15 14:39:45.720 +02:00 [INF] News Fetcher Service is starting...
2025-04-15 14:39:45.761 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 14:39:45.763 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 14:39:46.518 +02:00 [INF] Now listening on: https://localhost:5062
2025-04-15 14:39:46.518 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 14:39:46.518 +02:00 [INF] Hosting environment: Development
2025-04-15 14:39:46.518 +02:00 [INF] Content root path: /Users/sandortoth/Repositories/social-media-auto-poster/SocialAggregatorAPI
2025-04-15 14:39:46.727 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/index.html - null null
2025-04-15 14:39:46.817 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/index.html - 200 null text/html;charset=utf-8 90.7374ms
2025-04-15 14:39:46.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/index.css - null null
2025-04-15 14:39:46.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-04-15 14:39:46.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/swagger-ui-bundle.js - null null
2025-04-15 14:39:46.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/index.js - null null
2025-04-15 14:39:46.843 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 1.925ms
2025-04-15 14:39:46.844 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/swagger-ui.css - null null
2025-04-15 14:39:46.857 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-15 14:39:46.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/index.css - 200 202 text/css 15.6686ms
2025-04-15 14:39:46.860 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 14:39:46.861 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 14:39:46.866 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-15 14:39:46.867 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-15 14:39:46.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/swagger-ui.css - 200 154949 text/css 23.9863ms
2025-04-15 14:39:46.869 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/swagger-ui-standalone-preset.js - 200 229223 text/javascript 27.6298ms
2025-04-15 14:39:46.875 +02:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 14:39:46.877 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-15 14:39:46.877 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/swagger-ui-bundle.js - 200 1466908 text/javascript 35.9651ms
2025-04-15 14:39:47.022 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/swagger/v1/swagger.json - null null
2025-04-15 14:39:47.096 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.152ms
2025-04-15 14:39:48.432 +02:00 [INF] Received HTTP response headers after 2664.418ms - 200
2025-04-15 14:39:48.433 +02:00 [INF] End processing HTTP request after 2675.1977ms - 200
2025-04-15 14:39:49.074 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 14:39:49.083 +02:00 [INF] Start processing HTTP request GET https://koreajoongangdaily.joins.com/data/photo/2025/04/12/0ef669ce-69ff-44ab-a134-79fda7a4be61.jpg
2025-04-15 14:39:49.083 +02:00 [INF] Sending HTTP request GET https://koreajoongangdaily.joins.com/data/photo/2025/04/12/0ef669ce-69ff-44ab-a134-79fda7a4be61.jpg
2025-04-15 14:39:49.339 +02:00 [INF] Received HTTP response headers after 256.0712ms - 200
2025-04-15 14:39:49.340 +02:00 [INF] End processing HTTP request after 256.6555ms - 200
2025-04-15 14:39:49.588 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 14:39:49.588 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 14:39:50.306 +02:00 [INF] Summarized article 'Party chief spotlights close friendship between Vietnam and China'
2025-04-15 14:39:50.670 +02:00 [INF] Received HTTP response headers after 1081.2603ms - 201
2025-04-15 14:39:50.670 +02:00 [INF] End processing HTTP request after 1081.8413ms - 201
2025-04-15 14:39:51.050 +02:00 [INF] Executed DbCommand (267ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = -1), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 14:39:51.054 +02:00 [INF] Article posted: Young investors kick the Kospi to the curb for big gains in U.S. markets, cryptocurrencies
2025-04-15 14:39:58.727 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5062/api/auth/login - application/json 71
2025-04-15 14:39:58.735 +02:00 [INF] CORS policy execution successful.
2025-04-15 14:39:58.763 +02:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 14:39:58.765 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5062/api/auth/login - 500 null null 38.287ms
2025-04-15 14:40:01.281 +02:00 [INF] Summarized article 'Peruvian author Mario Vargas Llosa, Nobel literature laureate, dies at 89'
2025-04-15 12:44:18.566 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 12:44:18.582 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 12:44:19.347 +00:00 [INF] Creating key {3169256d-0155-43f1-aa85-44eb8d101efc} with creation date 2025-04-15 12:44:19Z, activation date 2025-04-15 12:44:19Z, and expiration date 2025-07-14 12:44:19Z.
2025-04-15 12:44:19.352 +00:00 [WRN] No XML encryptor configured. Key {3169256d-0155-43f1-aa85-44eb8d101efc} may be persisted to storage in unencrypted form.
2025-04-15 12:44:19.353 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-3169256d-0155-43f1-aa85-44eb8d101efc.xml'.
2025-04-15 12:44:19.362 +00:00 [INF] NewsSummarizationService started.
2025-04-15 12:44:19.482 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 12:44:19.506 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 12:44:19.507 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 12:44:20.055 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 12:44:20.071 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 12:44:20.071 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 12:44:20.071 +00:00 [INF] Hosting environment: Development
2025-04-15 12:44:20.072 +00:00 [INF] Content root path: /app
2025-04-15 12:44:20.092 +00:00 [INF] Received HTTP response headers after 583.4664ms - 200
2025-04-15 12:44:20.093 +00:00 [INF] End processing HTTP request after 589.8532ms - 200
2025-04-15 12:44:20.545 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 12:44:20.545 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 12:44:20.551 +00:00 [INF] Fetching and storing news...
2025-04-15 12:44:20.552 +00:00 [INF] Fetching news from NewsData.io...
2025-04-15 12:44:20.553 +00:00 [INF] Start processing HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 12:44:20.553 +00:00 [INF] Sending HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 12:44:21.000 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 12:44:21.010 +00:00 [INF] Start processing HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 12:44:21.010 +00:00 [INF] Sending HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 12:44:21.147 +00:00 [INF] Received HTTP response headers after 593.516ms - 200
2025-04-15 12:44:21.148 +00:00 [INF] End processing HTTP request after 594.6838ms - 200
2025-04-15 12:44:21.451 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 12:44:21.467 +00:00 [INF] Added new article: What Trump’s True Objectives Are with Canada
2025-04-15 12:44:21.598 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 12:44:21.600 +00:00 [INF] Added new article: STEPHEN GLOVER: China isn't investing in Britain because it likes us. It wants to suborn and control us. Despite saving Scunthorpe, we STILL haven't learnt the lesson
2025-04-15 12:44:21.600 +00:00 [INF] Fetched and stored articles from NewsData.io.
2025-04-15 12:44:21.942 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-04-15 12:44:22.962 +00:00 [INF] Received HTTP response headers after 1951.3864ms - 200
2025-04-15 12:44:22.963 +00:00 [INF] End processing HTTP request after 1953.4499ms - 200
2025-04-15 12:44:23.221 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 12:44:23.222 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 12:44:23.794 +00:00 [INF] Summarized article 'Party chief spotlights close friendship between Vietnam and China'
2025-04-15 12:44:24.448 +00:00 [INF] Received HTTP response headers after 1225.929ms - 500
2025-04-15 12:44:24.451 +00:00 [INF] End processing HTTP request after 1229.2164ms - 500
2025-04-15 12:44:24.453 +00:00 [WRN] Failed to post article: Party chief spotlights close friendship between Vietnam and China
2025-04-15 12:44:27.315 +00:00 [INF] Summarized article 'Peruvian author Mario Vargas Llosa, Nobel literature laureate, dies at 89'
2025-04-15 12:44:28.639 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/index.html - null null
2025-04-15 12:44:28.692 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/index.html - 200 null text/html;charset=utf-8 51.8708ms
2025-04-15 12:44:28.707 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger-ui.css - null null
2025-04-15 12:44:28.708 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger-ui-bundle.js - null null
2025-04-15 12:44:28.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
2025-04-15 12:44:28.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/index.js - null null
2025-04-15 12:44:28.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger-ui-standalone-preset.js - null null
2025-04-15 12:44:28.711 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/index.css - null null
2025-04-15 12:44:28.713 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/index.js - 200 null application/javascript;charset=utf-8 2.841ms
2025-04-15 12:44:28.714 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 13710 application/javascript; charset=utf-8 3.3211ms
2025-04-15 12:44:28.716 +00:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-15 12:44:28.718 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/index.css - 200 202 text/css 6.9382ms
2025-04-15 12:44:28.721 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-15 12:44:28.721 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-15 12:44:28.724 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger-ui.css - 200 154949 text/css 17.2525ms
2025-04-15 12:44:28.724 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger-ui-standalone-preset.js - 200 229223 text/javascript 13.246ms
2025-04-15 12:44:28.727 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-15 12:44:28.727 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger-ui-bundle.js - 200 1466908 text/javascript 18.947ms
2025-04-15 12:44:28.810 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-04-15 12:44:28.851 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.2004ms
2025-04-15 12:44:30.696 +00:00 [INF] Summarized article 'What Europe Overlooks About The Trump Administration's Defense Policy'
2025-04-15 12:44:33.083 +00:00 [INF] Summarized article 'Chinese exporters consider next step'
2025-04-15 12:44:33.344 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p8='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `NewsArticles` SET `AiSummary` = @p0, `IsProcessed` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p3, `IsProcessed` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p6, `IsProcessed` = @p7
WHERE `Id` = @p8;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p9, `IsProcessed` = @p10
WHERE `Id` = @p11;
SELECT ROW_COUNT();
2025-04-15 12:44:35.590 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - null 0
2025-04-15 12:44:35.597 +00:00 [INF] CORS policy execution successful.
2025-04-15 12:44:35.614 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:44:35.615 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - 500 null null 25.3668ms
2025-04-15 12:44:39.427 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - null 0
2025-04-15 12:44:39.431 +00:00 [INF] CORS policy execution successful.
2025-04-15 12:44:39.433 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:44:39.434 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - 500 null null 6.7167ms
2025-04-15 12:45:06.658 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - null 0
2025-04-15 12:45:06.664 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:45:06.664 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/SocialPoster/trigger - 500 null null 6.621ms
2025-04-15 12:46:22.667 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 12:46:22.670 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 12:46:33.932 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 12:46:37.237 +00:00 [INF] Summarized article 'What Trump’s True Objectives Are with Canada'
2025-04-15 12:46:40.748 +00:00 [INF] Summarized article 'STEPHEN GLOVER: China isn't investing in Britain because it likes us. It wants to suborn and control us. Despite saving Scunthorpe, we STILL haven't learnt the lesson'
2025-04-15 12:46:40.986 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `NewsArticles` SET `AiSummary` = @p0, `IsProcessed` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p3, `IsProcessed` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();
2025-04-15 12:48:23.286 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 12:48:23.288 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 12:48:41.609 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 12:50:23.996 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 12:50:23.998 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 12:50:42.172 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 12:52:49.602 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 12:52:49.608 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:52:49.609 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 500 null null 7.5777ms
2025-04-15 12:52:50.720 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 12:52:50.723 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:52:50.724 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 500 null null 3.286ms
2025-04-15 12:52:58.320 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 12:52:58.321 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 12:52:58.322 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 500 null null 2.897ms
2025-04-15 12:53:12.212 +00:00 [INF] Application is shutting down...
2025-04-15 14:55:15.044 +02:00 [INF] User profile is available. Using '/Users/sandortoth/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 15:07:07.757 +02:00 [INF] User profile is available. Using '/Users/sandortoth/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 15:07:08.510 +02:00 [INF] NewsSummarizationService started.
2025-04-15 15:07:08.627 +02:00 [INF] News Fetcher Service is starting...
2025-04-15 15:07:08.666 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 15:07:08.669 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 15:07:09.379 +02:00 [INF] Now listening on: https://localhost:5062
2025-04-15 15:07:09.379 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 15:07:09.379 +02:00 [INF] Hosting environment: Development
2025-04-15 15:07:09.379 +02:00 [INF] Content root path: /Users/sandortoth/Repositories/social-media-auto-poster/SocialAggregatorAPI
2025-04-15 15:07:09.596 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5062/swagger/v1/swagger.json - null null
2025-04-15 15:07:09.671 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.842ms
2025-04-15 15:07:09.779 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 15:07:09.779 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 15:07:09.785 +02:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 15:07:11.497 +02:00 [INF] Received HTTP response headers after 2824.1431ms - 200
2025-04-15 15:07:11.498 +02:00 [INF] End processing HTTP request after 2834.6837ms - 200
2025-04-15 15:07:12.091 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 15:07:12.142 +02:00 [INF] Start processing HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 15:07:12.142 +02:00 [INF] Sending HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 15:07:14.010 +02:00 [INF] Received HTTP response headers after 1867.9761ms - 200
2025-04-15 15:07:14.011 +02:00 [INF] End processing HTTP request after 1869.2235ms - 200
2025-04-15 15:07:14.447 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 15:07:14.447 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:17:45.556 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 13:17:45.576 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 13:17:46.294 +00:00 [INF] Creating key {f3a3e271-f1a0-42bb-801f-a86a33cb7b6e} with creation date 2025-04-15 13:17:46Z, activation date 2025-04-15 13:17:46Z, and expiration date 2025-07-14 13:17:46Z.
2025-04-15 13:17:46.298 +00:00 [WRN] No XML encryptor configured. Key {f3a3e271-f1a0-42bb-801f-a86a33cb7b6e} may be persisted to storage in unencrypted form.
2025-04-15 13:17:46.300 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-f3a3e271-f1a0-42bb-801f-a86a33cb7b6e.xml'.
2025-04-15 13:17:46.310 +00:00 [INF] NewsSummarizationService started.
2025-04-15 13:17:46.415 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 13:17:46.443 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:17:46.445 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:17:46.974 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 13:17:46.989 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 13:17:46.990 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 13:17:46.990 +00:00 [INF] Hosting environment: Development
2025-04-15 13:17:46.990 +00:00 [INF] Content root path: /app
2025-04-15 13:17:47.470 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:17:47.470 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:17:47.480 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 13:17:49.352 +00:00 [INF] Received HTTP response headers after 2903.4829ms - 200
2025-04-15 13:17:49.355 +00:00 [INF] End processing HTTP request after 2914.073ms - 200
2025-04-15 13:17:50.022 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 13:17:50.063 +00:00 [INF] Start processing HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 13:17:50.063 +00:00 [INF] Sending HTTP request GET https://mediaen.vietnamplus.vn/images/5aba81280a227886973e049dfd55d1d7f6696c0ba753311fee990ded4a44782bd39aa9b228ac7b6d9aa746ca40f815da/to-lam.jpg.webp
2025-04-15 13:17:51.565 +00:00 [INF] Received HTTP response headers after 1501.4952ms - 200
2025-04-15 13:17:51.566 +00:00 [INF] End processing HTTP request after 1503.4217ms - 200
2025-04-15 13:17:51.830 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:17:51.831 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:17:52.464 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
2025-04-15 13:17:52.468 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 13710 application/javascript; charset=utf-8 4.8248ms
2025-04-15 13:17:52.537 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-04-15 13:17:52.588 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.2271ms
2025-04-15 13:17:55.208 +00:00 [INF] Received HTTP response headers after 3376.9169ms - 201
2025-04-15 13:17:55.209 +00:00 [INF] End processing HTTP request after 3378.186ms - 201
2025-04-15 13:17:55.273 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 13:17:55.293 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 13:17:55.295 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 500 null null 20.9297ms
2025-04-15 13:17:55.370 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 13:17:55.373 +00:00 [INF] Article posted: Party chief spotlights close friendship between Vietnam and China
2025-04-15 13:18:11.860 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/register - application/json 77
2025-04-15 13:18:11.873 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 13:18:11.873 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/register - 500 null null 13.4716ms
2025-04-15 13:19:48.082 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:19:48.087 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 13:19:48.094 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:25:40.254 +00:00 [ERR] An error occurred using the connection to database 'defaultdb' on server 'mysql-1a4c0f28-tsts83-a097.j.aivencloud.com'.
2025-04-15 13:25:40.254 +00:00 [ERR] An error occurred using the connection to database 'defaultdb' on server 'mysql-1a4c0f28-tsts83-a097.j.aivencloud.com'.
2025-04-15 13:25:40.284 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SocialAggregatorAPI.Data.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-04-15 13:25:40.287 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'SocialAggregatorAPI.Data.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-04-15 13:25:40.290 +00:00 [ERR] Error occurred while fetching news.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at SocialAggregatorAPI.NewsFetcherService.FetchAndStoreNews()
   at SocialAggregatorAPI.NewsFetcherService.ExecuteAsync(CancellationToken stoppingToken)
2025-04-15 13:25:40.295 +00:00 [ERR] BackgroundService failed
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SocialAggregatorAPI.NewsSummarizationService.ExecuteAsync(CancellationToken stoppingToken)
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2025-04-15 13:25:40.299 +00:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseMySql' call.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: Operation canceled.
 ---> System.Net.Sockets.SocketException (125): Operation canceled
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 67
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesAsync|6_2(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 75
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlRelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at SocialAggregatorAPI.NewsSummarizationService.ExecuteAsync(CancellationToken stoppingToken)
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2025-04-15 13:25:40.302 +00:00 [INF] Application is shutting down...
2025-04-15 13:26:04.807 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 13:26:04.824 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 13:26:05.492 +00:00 [INF] Creating key {6bb41281-4ec6-4e29-baf2-5f2576eb1337} with creation date 2025-04-15 13:26:05Z, activation date 2025-04-15 13:26:05Z, and expiration date 2025-07-14 13:26:05Z.
2025-04-15 13:26:05.494 +00:00 [WRN] No XML encryptor configured. Key {6bb41281-4ec6-4e29-baf2-5f2576eb1337} may be persisted to storage in unencrypted form.
2025-04-15 13:26:05.496 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-6bb41281-4ec6-4e29-baf2-5f2576eb1337.xml'.
2025-04-15 13:26:05.503 +00:00 [INF] NewsSummarizationService started.
2025-04-15 13:26:05.609 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 13:26:05.634 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:26:05.635 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:26:06.209 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 13:26:06.230 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 13:26:06.230 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 13:26:06.230 +00:00 [INF] Hosting environment: Development
2025-04-15 13:26:06.231 +00:00 [INF] Content root path: /app
2025-04-15 13:26:06.672 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:26:06.680 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 13:26:06.696 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:26:08.366 +00:00 [INF] Received HTTP response headers after 2729.0125ms - 200
2025-04-15 13:26:08.367 +00:00 [INF] End processing HTTP request after 2735.4654ms - 200
2025-04-15 13:26:08.998 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 13:26:09.042 +00:00 [INF] Start processing HTTP request GET https://www.vmcdn.ca/f/files/shared/feeds/cp/2025/04/ceb956e7d852f2bfb2ac4535d80aa99d780f9d1dd3049e3faa5b3b1fe9c68bfa.jpg;w=960
2025-04-15 13:26:09.042 +00:00 [INF] Sending HTTP request GET https://www.vmcdn.ca/f/files/shared/feeds/cp/2025/04/ceb956e7d852f2bfb2ac4535d80aa99d780f9d1dd3049e3faa5b3b1fe9c68bfa.jpg;w=960
2025-04-15 13:26:09.283 +00:00 [INF] Received HTTP response headers after 240.7052ms - 200
2025-04-15 13:26:09.285 +00:00 [INF] End processing HTTP request after 242.9858ms - 200
2025-04-15 13:26:09.462 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:26:09.463 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:26:10.470 +00:00 [INF] Received HTTP response headers after 1007.0986ms - 201
2025-04-15 13:26:10.471 +00:00 [INF] End processing HTTP request after 1008.7635ms - 201
2025-04-15 13:26:10.707 +00:00 [INF] Executed DbCommand (101ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 13:26:10.714 +00:00 [INF] Article posted: Peruvian author Mario Vargas Llosa, Nobel literature laureate, dies at 89
2025-04-15 13:26:16.644 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/register - application/json 77
2025-04-15 13:26:16.682 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 13:26:16.685 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/register - 500 null null 41.5716ms
2025-04-15 13:27:40.111 +00:00 [INF] Application is shutting down...
2025-04-15 13:27:49.794 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 13:27:49.809 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 13:27:50.482 +00:00 [INF] Creating key {347a82dd-441c-4c0e-b3c3-01c14a1d4502} with creation date 2025-04-15 13:27:50Z, activation date 2025-04-15 13:27:50Z, and expiration date 2025-07-14 13:27:50Z.
2025-04-15 13:27:50.484 +00:00 [WRN] No XML encryptor configured. Key {347a82dd-441c-4c0e-b3c3-01c14a1d4502} may be persisted to storage in unencrypted form.
2025-04-15 13:27:50.486 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-347a82dd-441c-4c0e-b3c3-01c14a1d4502.xml'.
2025-04-15 13:27:50.493 +00:00 [INF] NewsSummarizationService started.
2025-04-15 13:27:50.603 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 13:27:50.626 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:27:50.628 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:27:51.226 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 13:27:51.239 +00:00 [INF] Received HTTP response headers after 610.3462ms - 200
2025-04-15 13:27:51.241 +00:00 [INF] End processing HTTP request after 616.6214ms - 200
2025-04-15 13:27:51.243 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 13:27:51.245 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 13:27:51.245 +00:00 [INF] Hosting environment: Development
2025-04-15 13:27:51.245 +00:00 [INF] Content root path: /app
2025-04-15 13:27:51.719 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:27:51.719 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:27:51.725 +00:00 [INF] Fetching and storing news...
2025-04-15 13:27:51.727 +00:00 [INF] Fetching news from NewsData.io...
2025-04-15 13:27:51.728 +00:00 [INF] Start processing HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 13:27:51.728 +00:00 [INF] Sending HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 13:27:52.205 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 13:27:52.256 +00:00 [INF] Start processing HTTP request GET https://assets.zerohedge.com/s3fs-public/styles/inline_image_mobile/public/inline-images/image%20(56)_4.jpg?itok=DVLdHKwe
2025-04-15 13:27:52.256 +00:00 [INF] Sending HTTP request GET https://assets.zerohedge.com/s3fs-public/styles/inline_image_mobile/public/inline-images/image%20(56)_4.jpg?itok=DVLdHKwe
2025-04-15 13:27:52.311 +00:00 [INF] Received HTTP response headers after 582.6552ms - 200
2025-04-15 13:27:52.312 +00:00 [INF] End processing HTTP request after 583.5649ms - 200
2025-04-15 13:27:52.474 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 13:27:52.488 +00:00 [INF] Added new article: Action Plan For Exiting fatf Grey List
2025-04-15 13:27:52.542 +00:00 [INF] Received HTTP response headers after 285.7602ms - 200
2025-04-15 13:27:52.543 +00:00 [INF] End processing HTTP request after 286.8702ms - 200
2025-04-15 13:27:52.616 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 13:27:52.616 +00:00 [INF] Added new article: CNBC Daily Open: Consumers are worried over the economy. The White House insists it’ll be fine
2025-04-15 13:27:52.616 +00:00 [INF] Fetched and stored articles from NewsData.io.
2025-04-15 13:27:52.700 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:27:52.700 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:27:52.940 +00:00 [INF] Executed DbCommand (90ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-04-15 13:27:53.632 +00:00 [INF] Received HTTP response headers after 931.6475ms - 201
2025-04-15 13:27:53.632 +00:00 [INF] End processing HTTP request after 932.6244ms - 201
2025-04-15 13:27:53.767 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 13:27:53.772 +00:00 [INF] Article posted: What Europe Overlooks About The Trump Administration's Defense Policy
2025-04-15 13:27:58.054 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/register - application/json 77
2025-04-15 13:27:58.083 +00:00 [ERR] An error occurred: Issuer is not configured.
2025-04-15 13:27:58.085 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/register - 500 null null 31.7737ms
2025-04-15 13:28:46.213 +00:00 [INF] Application is shutting down...
2025-04-15 13:32:46.053 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 13:32:46.069 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 13:32:46.809 +00:00 [INF] Creating key {dce280d0-c343-4a5d-b8cf-732481f5dfe6} with creation date 2025-04-15 13:32:46Z, activation date 2025-04-15 13:32:46Z, and expiration date 2025-07-14 13:32:46Z.
2025-04-15 13:32:46.812 +00:00 [WRN] No XML encryptor configured. Key {dce280d0-c343-4a5d-b8cf-732481f5dfe6} may be persisted to storage in unencrypted form.
2025-04-15 13:32:46.814 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-dce280d0-c343-4a5d-b8cf-732481f5dfe6.xml'.
2025-04-15 13:32:46.821 +00:00 [INF] NewsSummarizationService started.
2025-04-15 13:32:46.951 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 13:32:46.974 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:32:46.976 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 13:32:47.545 +00:00 [INF] Received HTTP response headers after 567.7852ms - 200
2025-04-15 13:32:47.548 +00:00 [INF] End processing HTTP request after 575.6159ms - 200
2025-04-15 13:32:47.557 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 13:32:47.571 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 13:32:47.571 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 13:32:47.571 +00:00 [INF] Hosting environment: Development
2025-04-15 13:32:47.571 +00:00 [INF] Content root path: /app
2025-04-15 13:32:48.017 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:32:48.017 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:32:48.022 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 13:32:48.495 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 13:32:48.497 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:32:48.497 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 13:32:48.750 +00:00 [INF] Received HTTP response headers after 252.9691ms - 201
2025-04-15 13:32:48.751 +00:00 [INF] End processing HTTP request after 253.9982ms - 201
2025-04-15 13:32:48.959 +00:00 [INF] Executed DbCommand (80ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 13:32:48.965 +00:00 [INF] Article posted: Chinese exporters consider next step
2025-04-15 13:32:52.854 +00:00 [INF] Summarized article 'Action Plan For Exiting fatf Grey List'
2025-04-15 13:32:55.146 +00:00 [INF] Summarized article 'CNBC Daily Open: Consumers are worried over the economy. The White House insists it’ll be fine'
2025-04-15 13:32:55.186 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 13:32:55.223 +00:00 [INF] Executing endpoint 'SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI)'
2025-04-15 13:32:55.232 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(User) on controller SocialAggregatorAPI.Controllers.AuthController (SocialAggregatorAPI).
2025-04-15 13:32:55.412 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `NewsArticles` SET `AiSummary` = @p0, `IsProcessed` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p3, `IsProcessed` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();
2025-04-15 13:32:55.842 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__loginUser_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`PasswordHash`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__loginUser_Username_0
LIMIT 1
2025-04-15 13:32:56.114 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-15 13:32:56.117 +00:00 [INF] Executed action SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI) in 883.7765ms
2025-04-15 13:32:56.118 +00:00 [INF] Executed endpoint 'SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI)'
2025-04-15 13:32:56.122 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 200 null application/json; charset=utf-8 937.7468ms
2025-04-15 13:34:48.699 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:34:48.702 +00:00 [INF] Fetching and storing news...
2025-04-15 13:34:48.707 +00:00 [INF] Fetching news from NewsData.io...
2025-04-15 13:34:48.709 +00:00 [INF] Start processing HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 13:34:48.709 +00:00 [INF] Sending HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 13:34:49.666 +00:00 [INF] Received HTTP response headers after 956.8405ms - 200
2025-04-15 13:34:49.668 +00:00 [INF] End processing HTTP request after 958.9063ms - 200
2025-04-15 13:34:49.942 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 13:34:49.967 +00:00 [INF] Added new article: U.S. announces probes on microchips, pharma that could lead to tariffs
2025-04-15 13:34:50.094 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 13:34:50.096 +00:00 [INF] Added new article: Reliance eyes Flipkart veteran; Small towns seek wealth
2025-04-15 13:34:50.097 +00:00 [INF] Fetched and stored articles from NewsData.io.
2025-04-15 13:34:50.363 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-04-15 13:34:56.089 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:34:59.108 +00:00 [INF] Summarized article 'U.S. announces probes on microchips, pharma that could lead to tariffs'
2025-04-15 13:35:01.786 +00:00 [INF] Summarized article 'Reliance eyes Flipkart veteran; Small towns seek wealth'
2025-04-15 13:35:02.075 +00:00 [INF] Executed DbCommand (85ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `NewsArticles` SET `AiSummary` = @p0, `IsProcessed` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p3, `IsProcessed` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();
2025-04-15 13:36:51.000 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:36:51.003 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 13:37:02.753 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:38:51.712 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:38:51.715 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 13:39:03.363 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:40:52.309 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:40:52.312 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 13:41:03.948 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:42:52.916 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 13:42:52.918 +00:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 13:43:04.515 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 13:44:30.429 +00:00 [INF] Application is shutting down...
2025-04-15 22:23:36.256 +02:00 [INF] User profile is available. Using '/Users/sandortoth/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 22:23:37.118 +02:00 [INF] NewsSummarizationService started.
2025-04-15 22:23:37.236 +02:00 [INF] News Fetcher Service is starting...
2025-04-15 22:23:37.277 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 22:23:37.280 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 22:23:37.986 +02:00 [INF] Now listening on: http://localhost:5062
2025-04-15 22:23:37.986 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 22:23:37.987 +02:00 [INF] Hosting environment: Development
2025-04-15 22:23:37.987 +02:00 [INF] Content root path: /Users/sandortoth/Repositories/social-media-auto-poster/SocialAggregatorAPI
2025-04-15 22:23:38.437 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 22:23:38.460 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 22:23:38.462 +02:00 [INF] There are 6 unposted articles. Skipping news fetch.
2025-04-15 22:23:40.361 +02:00 [INF] Received HTTP response headers after 3077.696ms - 200
2025-04-15 22:23:40.364 +02:00 [INF] End processing HTTP request after 3089.1552ms - 200
2025-04-15 22:23:41.043 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 22:23:41.093 +02:00 [INF] Start processing HTTP request GET https://ichef.bbci.co.uk/news/480/cpsprodpb/c8f6/live/6a5f09a0-1940-11f0-a455-cf1d5f751d2f.png.webp
2025-04-15 22:23:41.093 +02:00 [INF] Sending HTTP request GET https://ichef.bbci.co.uk/news/480/cpsprodpb/c8f6/live/6a5f09a0-1940-11f0-a455-cf1d5f751d2f.png.webp
2025-04-15 22:23:41.260 +02:00 [INF] Received HTTP response headers after 166.608ms - 200
2025-04-15 22:23:41.260 +02:00 [INF] End processing HTTP request after 167.2933ms - 200
2025-04-15 22:23:41.423 +02:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 22:23:41.423 +02:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 22:23:42.421 +02:00 [INF] Received HTTP response headers after 997.4666ms - 201
2025-04-15 22:23:42.422 +02:00 [INF] End processing HTTP request after 998.8389ms - 201
2025-04-15 22:23:42.739 +02:00 [INF] Executed DbCommand (191ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 22:23:42.747 +02:00 [INF] Article posted: What Trump’s True Objectives Are with Canada
2025-04-15 22:24:14.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/ - null null
2025-04-15 22:24:14.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/ - 301 0 null 36.7054ms
2025-04-15 22:24:14.165 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.html - null null
2025-04-15 22:24:14.200 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.html - 200 null text/html;charset=utf-8 35.3682ms
2025-04-15 22:24:14.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.css - null null
2025-04-15 22:24:14.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/index.js - null null
2025-04-15 22:24:14.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - null null
2025-04-15 22:24:14.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - null null
2025-04-15 22:24:14.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger-ui.css - null null
2025-04-15 22:24:14.211 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.js - 200 null application/javascript;charset=utf-8 1.5417ms
2025-04-15 22:24:14.222 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-04-15 22:24:14.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/index.css - 200 202 text/css 12.5228ms
2025-04-15 22:24:14.228 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-15 22:24:14.228 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-15 22:24:14.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-standalone-preset.js - 200 229223 text/javascript 19.4042ms
2025-04-15 22:24:14.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui.css - 200 154949 text/css 18.9583ms
2025-04-15 22:24:14.232 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-15 22:24:14.232 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger-ui-bundle.js - 200 1466908 text/javascript 22.4113ms
2025-04-15 22:24:14.315 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-04-15 22:24:14.326 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - null null
2025-04-15 22:24:14.327 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-15 22:24:14.327 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/favicon-32x32.png - 200 628 image/png 0.8886ms
2025-04-15 22:24:14.360 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.4143ms
2025-04-15 22:24:21.673 +02:00 [INF] Application is shutting down...
2025-04-15 20:51:08.340 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 20:51:08.357 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 20:51:09.077 +00:00 [INF] Creating key {24cd52fa-3071-40ca-88ad-61c98ef1c865} with creation date 2025-04-15 20:51:09Z, activation date 2025-04-15 20:51:09Z, and expiration date 2025-07-14 20:51:09Z.
2025-04-15 20:51:09.081 +00:00 [WRN] No XML encryptor configured. Key {24cd52fa-3071-40ca-88ad-61c98ef1c865} may be persisted to storage in unencrypted form.
2025-04-15 20:51:09.083 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-24cd52fa-3071-40ca-88ad-61c98ef1c865.xml'.
2025-04-15 20:51:09.091 +00:00 [INF] NewsSummarizationService started.
2025-04-15 20:51:09.209 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 20:51:09.233 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:51:09.235 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:51:09.830 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 20:51:09.847 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 20:51:09.847 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 20:51:09.847 +00:00 [INF] Hosting environment: Development
2025-04-15 20:51:09.848 +00:00 [INF] Content root path: /app
2025-04-15 20:51:10.292 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 20:51:10.301 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 20:51:10.304 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 20:51:12.127 +00:00 [INF] Received HTTP response headers after 2888.4334ms - 200
2025-04-15 20:51:12.130 +00:00 [INF] End processing HTTP request after 2899.0883ms - 200
2025-04-15 20:51:12.737 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 20:51:12.789 +00:00 [INF] Start processing HTTP request GET https://i.dailymail.co.uk/1s/2025/04/14/19/97275463-0-image-a-4_1744656203182.jpg
2025-04-15 20:51:12.789 +00:00 [INF] Sending HTTP request GET https://i.dailymail.co.uk/1s/2025/04/14/19/97275463-0-image-a-4_1744656203182.jpg
2025-04-15 20:51:12.931 +00:00 [INF] Received HTTP response headers after 141.7809ms - 200
2025-04-15 20:51:12.932 +00:00 [INF] End processing HTTP request after 142.7804ms - 200
2025-04-15 20:51:13.064 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:51:13.065 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:51:14.138 +00:00 [INF] Received HTTP response headers after 1072.1204ms - 201
2025-04-15 20:51:14.139 +00:00 [INF] End processing HTTP request after 1075.0252ms - 201
2025-04-15 20:51:14.323 +00:00 [INF] Executed DbCommand (71ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 20:51:14.328 +00:00 [INF] Article posted: STEPHEN GLOVER: China isn't investing in Britain because it likes us. It wants to suborn and control us. Despite saving Scunthorpe, we STILL haven't learnt the lesson
2025-04-15 20:51:22.052 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
2025-04-15 20:51:22.058 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 13710 application/javascript; charset=utf-8 6.8045ms
2025-04-15 20:51:22.088 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-04-15 20:51:22.150 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.7937ms
2025-04-15 20:51:30.762 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/auth/login - application/json 86
2025-04-15 20:51:30.793 +00:00 [INF] Executing endpoint 'SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI)'
2025-04-15 20:51:30.810 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(User) on controller SocialAggregatorAPI.Controllers.AuthController (SocialAggregatorAPI).
2025-04-15 20:51:31.461 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__loginUser_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`Email`, `u`.`Password`, `u`.`PasswordHash`, `u`.`Username`
FROM `Users` AS `u`
WHERE `u`.`Username` = @__loginUser_Username_0
LIMIT 1
2025-04-15 20:51:31.719 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-15 20:51:31.721 +00:00 [INF] Executed action SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI) in 910.451ms
2025-04-15 20:51:31.722 +00:00 [INF] Executed endpoint 'SocialAggregatorAPI.Controllers.AuthController.Login (SocialAggregatorAPI)'
2025-04-15 20:51:31.724 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/auth/login - 200 null application/json; charset=utf-8 962.553ms
2025-04-15 20:51:35.117 +00:00 [INF] Application is shutting down...
2025-04-15 20:52:16.002 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 20:52:16.018 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 20:52:16.731 +00:00 [INF] Creating key {95c4b7ab-636f-45e5-87c8-09df6cb43653} with creation date 2025-04-15 20:52:16Z, activation date 2025-04-15 20:52:16Z, and expiration date 2025-07-14 20:52:16Z.
2025-04-15 20:52:16.734 +00:00 [WRN] No XML encryptor configured. Key {95c4b7ab-636f-45e5-87c8-09df6cb43653} may be persisted to storage in unencrypted form.
2025-04-15 20:52:16.738 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-95c4b7ab-636f-45e5-87c8-09df6cb43653.xml'.
2025-04-15 20:52:16.746 +00:00 [INF] NewsSummarizationService started.
2025-04-15 20:52:16.865 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 20:52:16.889 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:52:16.890 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:52:17.413 +00:00 [INF] Received HTTP response headers after 522.2644ms - 200
2025-04-15 20:52:17.418 +00:00 [INF] End processing HTTP request after 531.5937ms - 200
2025-04-15 20:52:17.454 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 20:52:17.467 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 20:52:17.468 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 20:52:17.468 +00:00 [INF] Hosting environment: Development
2025-04-15 20:52:17.468 +00:00 [INF] Content root path: /app
2025-04-15 20:52:17.924 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 20:52:17.924 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 20:52:17.929 +00:00 [INF] Fetching and storing news...
2025-04-15 20:52:17.933 +00:00 [INF] Fetching news from NewsData.io...
2025-04-15 20:52:17.934 +00:00 [INF] Start processing HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 20:52:17.934 +00:00 [INF] Sending HTTP request GET https://newsdata.io/api/1/latest?apikey=pub_77929b4bd4ff204f4280530b6336df3731f24&q=Economy%20AND%20World%20News&language=en
2025-04-15 20:52:18.392 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 20:52:18.435 +00:00 [INF] Start processing HTTP request GET https://risingnepaldaily.com/storage/media/75931/Untitled-1.jpg
2025-04-15 20:52:18.435 +00:00 [INF] Sending HTTP request GET https://risingnepaldaily.com/storage/media/75931/Untitled-1.jpg
2025-04-15 20:52:18.626 +00:00 [INF] Received HTTP response headers after 691.7849ms - 200
2025-04-15 20:52:18.627 +00:00 [INF] End processing HTTP request after 692.7332ms - 200
2025-04-15 20:52:18.934 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 20:52:18.951 +00:00 [INF] Added new article: AP News Summary at 4:50 a.m. EDT
2025-04-15 20:52:19.082 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[@__article_Title_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE `n`.`Title` = @__article_Title_0
LIMIT 1
2025-04-15 20:52:19.085 +00:00 [INF] Added new article: AP News Summary at 4:50 a.m. EDT
2025-04-15 20:52:19.086 +00:00 [INF] Fetched and stored articles from NewsData.io.
2025-04-15 20:52:19.325 +00:00 [INF] Received HTTP response headers after 889.9393ms - 200
2025-04-15 20:52:19.326 +00:00 [INF] End processing HTTP request after 891.4076ms - 200
2025-04-15 20:52:19.422 +00:00 [INF] Executed DbCommand (82ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `NewsArticles` (`AiSummary`, `Content`, `IsPosted`, `IsProcessed`, `PublishedAt`, `Source`, `ThumbnailUrl`, `Title`, `Url`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `NewsArticles`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-04-15 20:52:19.689 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:52:19.689 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:52:20.689 +00:00 [INF] Received HTTP response headers after 999.9379ms - 201
2025-04-15 20:52:20.695 +00:00 [INF] End processing HTTP request after 1005.8364ms - 201
2025-04-15 20:52:20.811 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 20:52:20.816 +00:00 [INF] Article posted: Action Plan For Exiting fatf Grey List
2025-04-15 20:52:22.695 +00:00 [INF] Application is shutting down...
2025-04-15 20:53:24.492 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 20:53:24.508 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 20:53:25.272 +00:00 [INF] Creating key {e01059ce-79e4-47bd-b2e3-6d445d424c03} with creation date 2025-04-15 20:53:25Z, activation date 2025-04-15 20:53:25Z, and expiration date 2025-07-14 20:53:25Z.
2025-04-15 20:53:25.275 +00:00 [WRN] No XML encryptor configured. Key {e01059ce-79e4-47bd-b2e3-6d445d424c03} may be persisted to storage in unencrypted form.
2025-04-15 20:53:25.277 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-e01059ce-79e4-47bd-b2e3-6d445d424c03.xml'.
2025-04-15 20:53:25.285 +00:00 [INF] NewsSummarizationService started.
2025-04-15 20:53:25.415 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 20:53:25.436 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:53:25.437 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 20:53:25.939 +00:00 [INF] Received HTTP response headers after 500.8458ms - 200
2025-04-15 20:53:25.942 +00:00 [INF] End processing HTTP request after 507.3407ms - 200
2025-04-15 20:53:26.057 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 20:53:26.072 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 20:53:26.072 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 20:53:26.072 +00:00 [INF] Hosting environment: Development
2025-04-15 20:53:26.072 +00:00 [INF] Content root path: /app
2025-04-15 20:53:26.524 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 20:53:26.565 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 20:53:26.566 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 20:53:27.007 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 20:53:27.018 +00:00 [INF] Start processing HTTP request GET https://fm.cnbc.com/applications/cnbc.com/resources/styles/skin/special-reports/daily-open/images/DO_Logo-01.svg
2025-04-15 20:53:27.018 +00:00 [INF] Sending HTTP request GET https://fm.cnbc.com/applications/cnbc.com/resources/styles/skin/special-reports/daily-open/images/DO_Logo-01.svg
2025-04-15 20:53:27.159 +00:00 [INF] Received HTTP response headers after 141.1551ms - 200
2025-04-15 20:53:27.160 +00:00 [INF] End processing HTTP request after 142.5225ms - 200
2025-04-15 20:53:27.192 +00:00 [ERR] Failed to download or compress image from https://fm.cnbc.com/applications/cnbc.com/resources/styles/skin/special-reports/daily-open/images/DO_Logo-01.svg
SixLabors.ImageSharp.UnknownImageFormatException: Image cannot be loaded. Available decoders:
 - PBM : PbmDecoder
 - QOI : QoiDecoder
 - PNG : PngDecoder
 - TIFF : TiffDecoder
 - BMP : BmpDecoder
 - JPEG : JpegDecoder
 - GIF : GifDecoder
 - TGA : TgaDecoder
 - Webp : WebpDecoder

   at SixLabors.ImageSharp.Formats.ImageFormatManager.ThrowInvalidDecoder(ImageFormatManager manager)
   at SixLabors.ImageSharp.Image.InternalDetectFormat(Configuration configuration, Stream stream)
   at SixLabors.ImageSharp.Image.DiscoverDecoder(DecoderOptions options, Stream stream)
   at SixLabors.ImageSharp.Image.Decode(DecoderOptions options, Stream stream)
   at SixLabors.ImageSharp.Image.<>c__DisplayClass80_0.<Load>b__0(Stream s)
   at SixLabors.ImageSharp.Image.WithSeekableStream[T](DecoderOptions options, Stream stream, Func`2 action)
   at SixLabors.ImageSharp.Image.Load(DecoderOptions options, Stream stream)
   at SixLabors.ImageSharp.Image.Load(DecoderOptions options, ReadOnlySpan`1 buffer)
   at SixLabors.ImageSharp.Image.Load(ReadOnlySpan`1 buffer)
   at MiniSocialPosterService.DownloadAndCompressImageAsync(String imageUrl) in /app/Services/MiniSocialPosterService.cs:line 150
2025-04-15 20:53:27.200 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:53:27.200 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 20:53:27.451 +00:00 [INF] Received HTTP response headers after 250.7849ms - 201
2025-04-15 20:53:27.451 +00:00 [INF] End processing HTTP request after 251.7263ms - 201
2025-04-15 20:53:27.621 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 20:53:27.626 +00:00 [INF] Article posted: CNBC Daily Open: Consumers are worried over the economy. The White House insists it’ll be fine
2025-04-15 20:53:31.653 +00:00 [INF] Application is shutting down...
2025-04-15 21:04:32.082 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning
2025-04-15 21:04:32.099 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-15 21:04:32.812 +00:00 [INF] Creating key {c1ea6ca8-a1f8-422f-a3c9-3f9a597f1619} with creation date 2025-04-15 21:04:32Z, activation date 2025-04-15 21:04:32Z, and expiration date 2025-07-14 21:04:32Z.
2025-04-15 21:04:32.816 +00:00 [WRN] No XML encryptor configured. Key {c1ea6ca8-a1f8-422f-a3c9-3f9a597f1619} may be persisted to storage in unencrypted form.
2025-04-15 21:04:32.818 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-c1ea6ca8-a1f8-422f-a3c9-3f9a597f1619.xml'.
2025-04-15 21:04:32.828 +00:00 [INF] NewsSummarizationService started.
2025-04-15 21:04:32.932 +00:00 [INF] News Fetcher Service is starting...
2025-04-15 21:04:32.954 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 21:04:32.955 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/auth/login
2025-04-15 21:04:33.611 +00:00 [WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:8080'.
2025-04-15 21:04:33.627 +00:00 [INF] Now listening on: http://0.0.0.0:8080
2025-04-15 21:04:33.627 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-15 21:04:33.627 +00:00 [INF] Hosting environment: Development
2025-04-15 21:04:33.628 +00:00 [INF] Content root path: /app
2025-04-15 21:04:34.163 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
2025-04-15 21:04:34.163 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsProcessed`) AND (`n`.`Content` <> '')
2025-04-15 21:04:34.175 +00:00 [INF] There are 5 unposted articles. Skipping news fetch.
2025-04-15 21:04:35.971 +00:00 [INF] Received HTTP response headers after 3013.2514ms - 200
2025-04-15 21:04:35.973 +00:00 [INF] End processing HTTP request after 3020.8734ms - 200
2025-04-15 21:04:36.636 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `n`.`Id`, `n`.`AiSummary`, `n`.`Content`, `n`.`IsPosted`, `n`.`IsProcessed`, `n`.`PublishedAt`, `n`.`Source`, `n`.`ThumbnailUrl`, `n`.`Title`, `n`.`Url`
FROM `NewsArticles` AS `n`
WHERE NOT (`n`.`IsPosted`)
ORDER BY `n`.`Id`
LIMIT 1
2025-04-15 21:04:36.646 +00:00 [INF] Start processing HTTP request GET https://img.etimg.com/thumb/msid-120294329,width-1070,height-580,imgsize-30526,overlay-ettech/editionshow.jpg
2025-04-15 21:04:36.647 +00:00 [INF] Sending HTTP request GET https://img.etimg.com/thumb/msid-120294329,width-1070,height-580,imgsize-30526,overlay-ettech/editionshow.jpg
2025-04-15 21:04:36.812 +00:00 [INF] Received HTTP response headers after 164.5667ms - 200
2025-04-15 21:04:36.813 +00:00 [INF] End processing HTTP request after 166.4849ms - 200
2025-04-15 21:04:37.010 +00:00 [INF] Start processing HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 21:04:37.010 +00:00 [INF] Sending HTTP request POST https://mini-social-media-demo.vercel.app/api/posts
2025-04-15 21:04:37.186 +00:00 [INF] Summarized article 'UK employers cuts jobs in run-up to employer tax hike'
2025-04-15 21:04:38.035 +00:00 [INF] Received HTTP response headers after 1023.9049ms - 201
2025-04-15 21:04:38.036 +00:00 [INF] End processing HTTP request after 1025.4211ms - 201
2025-04-15 21:04:38.220 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `NewsArticles` SET `AiSummary` = @p0, `Content` = @p1, `IsPosted` = @p2, `IsProcessed` = @p3, `PublishedAt` = @p4, `Source` = @p5, `ThumbnailUrl` = @p6, `Title` = @p7, `Url` = @p8
WHERE `Id` = @p9;
SELECT ROW_COUNT();
2025-04-15 21:04:38.225 +00:00 [INF] Article posted: Reliance eyes Flipkart veteran; Small towns seek wealth
2025-04-15 21:04:39.865 +00:00 [INF] Summarized article ''Tough' Singapore election expected for non-Lee leader'
2025-04-15 21:04:40.144 +00:00 [INF] Executed DbCommand (69ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE `NewsArticles` SET `AiSummary` = @p0, `IsProcessed` = @p1
WHERE `Id` = @p2;
SELECT ROW_COUNT();

UPDATE `NewsArticles` SET `AiSummary` = @p3, `IsProcessed` = @p4
WHERE `Id` = @p5;
SELECT ROW_COUNT();
2025-04-15 21:04:43.845 +00:00 [INF] Application is shutting down...
